<div class="container">
  <button class="regbutton" data-bs-toggle="modal" data-bs-target="#myModal">
    Register
  </button>
  <br />
</div>
<div>
  <div class="modal" id="myModal">
    <div class="modal-dialog" style="display: table">
      <div class="modal-content" style="width: max-content">
        <div class="modal-header">
          <h4 class="modal-title">Register</h4>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
          ></button>
        </div>

        <div class="modal-body">
          <div *ngIf="successMessage" class="success-message">
            <span>{{ successMessage }}</span>
            <button class="close-button" (click)="closeMessage()">x</button>
          </div>

          <form
            #userlogin="ngForm"
            [formGroup]="registrationForm"
            class="row"
            (ngSubmit)="onClickSubmit()"
          >
            <div class="col" style="height: 360px; width: 266px">
              <div
                [innerHtml]="msg"
                *ngIf="msg"
                style="color: rgba(255, 128, 0, 0.774)"
              ></div>
              <div>
                <img
                  [src]="url"
                  *ngIf="url"
                  style="height: 10em; width: 10em"
                />
              </div>
              <p>
                Upload Profile Photo
                <input type="file" (change)="selectFile($event)" />
              </p>
            </div>
            <div class="col">
              <div>
                <div class="row">
                  <div class="col-7">
                    <input
                      type="text"
                      id="Firstname"
                      class="form-control"
                      placeholder="First name"
                      formControlName="FName"
                    />
                  </div>
                  <div class="col-5">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Last name"
                      formControlName="LName"
                    />
                  </div>
                </div>
                <div
                  *ngIf="registrationForm.get('FName')?.hasError('required')"
                ></div>
                <div *ngIf="registrationForm.get('FName')?.hasError('pattern')">
                  Only alphabetic characters are allowed
                </div>
                <div
                  *ngIf="registrationForm.get('FName')?.hasError('maxlength')"
                >
                  Maximum length is 20 characters
                </div>
                <div
                  *ngIf="registrationForm.get('FName')?.hasError('minlength')"
                >
                  Maximum length is 3 characters
                </div>
                <div
                  *ngIf="registrationForm.get('LName')?.hasError('required')"
                ></div>
                <div *ngIf="registrationForm.get('LName')?.hasError('pattern')">
                  Only alphabetic characters are allowed
                </div>
                <div
                  *ngIf="registrationForm.get('LName')?.hasError('maxlength')"
                >
                  Maximum length is 20 characters
                </div>
              </div>
              <div>
                <div class="form-group">
                  <input
                    type="email"
                    id="email"
                    formControlName="email"
                    class="form-control"
                    placeholder="Email"
                  />
                  <div
                    *ngIf="registrationForm.get('email')?.hasError('required')"
                  >
                    Email is required
                  </div>
                  <div
                    *ngIf="registrationForm.get('email')?.hasError('pattern')"
                  >
                    Email is invalid
                  </div>
                </div>
                <div class="form-group">
                  <label for="age">Age:</label>
                  <input
                    type="range"
                    id="age"
                    formControlName="age"
                    min="18"
                    max="100"
                    class="form-range"
                  />
                  {{ registrationForm.get("age")?.value }}
                  <div
                    *ngIf="registrationForm.get('age')?.hasError('required')"
                  >
                    Age is required
                  </div>
                  <div *ngIf="registrationForm.get('age')?.hasError('min')">
                    Minimum age is 18
                  </div>
                  <div *ngIf="registrationForm.get('age')?.hasError('max')">
                    Maximum age is 100
                  </div>
                </div>
                <div class="form-group">
                  <input
                    type="text"
                    id="interests"
                    placeholder="Interests"
                    formControlName="interests"
                    class="form-control"
                  />
                </div>
                <div class="form-group">
                  <select
                    id="addressType"
                    formControlName="addressType"
                    class="form-control"
                  >
                    <option value="" disabled>Select Address Type</option>
                    <option value="home">Home</option>
                    <option value="company">Company</option>
                  </select>
                  <div
                    *ngIf="
                      registrationForm.get('addressType')?.hasError('required')
                    "
                  >
                    Address Type is required
                  </div>
                </div>
                <div
                  *ngIf="
                    registrationForm.get('addressType')?.value === 'company'
                  "
                  class="form-group"
                >
                  <div>
                    <label for="companyAddress1">Company Address 1:</label>
                    <input
                      type="text"
                      id="companyAddress1"
                      formControlName="companyAddress1"
                      class="form-control"
                    />
                    <div
                      *ngIf="
                        registrationForm
                          .get('companyAddress1')
                          ?.hasError('required')
                      "
                    >
                      Address 1 is required
                    </div>
                  </div>
                  <div>
                    <label for="companyAddress2">Company Address 2:</label>
                    <input
                      type="text"
                      id="companyAddress2"
                      formControlName="companyAddress2"
                      class="form-control"
                    />
                  </div>
                </div>
                <div
                  *ngIf="registrationForm.get('addressType')?.value === 'home'"
                  class="form-group"
                >
                  <div>
                    <label for="homeAddress1">Home Address 1:</label>
                    <input
                      type="text"
                      id="homeAddress1"
                      formControlName="homeAddress1"
                      class="form-control"
                    />
                    <div
                      *ngIf="
                        registrationForm
                          .get('homeAddress1')
                          ?.hasError('required')
                      "
                    >
                      Home Address is required
                    </div>
                  </div>
                  <div>
                    <label for="homeAddress2">Home Address 2:</label>
                    <input
                      name=""
                      type="text"
                      id="homeAddress2"
                      formControlName="homeAddress2"
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
            Close
          </button>
          <button
            type="submit"
            [disabled]="userlogin.invalid"
            class="btn btn-success"
            value="submit"
            (click)="onClickSubmit()"
          >
            Submit
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
